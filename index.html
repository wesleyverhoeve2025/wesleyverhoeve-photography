<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wesley Verhoeve - Photography</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
    font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    font-size: 15px;
    color: #222;
    background: #fff;
    letter-spacing: 0.01em;
}

        /* Menu Toggle Button */
        .menu-toggle {
            position: fixed;
            top: 30px;
            left: 30px;
            z-index: 1000;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
        }

        .menu-toggle span {
            display: block;
            width: 100%;
            height: 1px;
            background: #000;
            margin: 5px 0;
            transition: all 0.3s ease;
        }

        .menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Left Side Menu */
        .side-menu {
            position: fixed;
            left: -330px;
            top: 0;
            width: 330px;
            height: 100vh;
            background: #ffffff;
            border-right: 1px solid #e0e0e0;
            z-index: 999;
            transition: left 0.4s ease;
            padding: 80px 30px 30px;
            font-size: 11.5px;
            color: #444;
            letter-spacing: 0.03em;
        }

        .side-menu.active {
            left: 0;
        }

        .side-menu nav ul {
            list-style: none;
        }

        .side-menu nav ul li {
            margin: 8px 0;
        }

        .side-menu nav ul li a {
            color: #000;
            text-decoration: none;
            font-size: 16px;
            font-weight: 300;
            transition: opacity 0.3s ease;
        }

        .side-menu nav ul li a:hover {
            opacity: 0.6;
        }

        .side-menu nav ul li a.external {
            position: relative;
        }

        .side-menu nav ul li a.external::after {
            content: 'â†—';
            font-size: 12px;
            margin-left: 5px;
            opacity: 0.6;
        }

        .work-submenu {
            margin-left: 20px;
            margin-top: 10px;
        }

        .work-submenu li {
            margin: 10px 0;
        }

        .work-submenu a {
            font-size: 14px;
            color: #666;
        }

        .menu-info {
            position: absolute;
            bottom: 30px;
            left: 30px;
            right: 30px;
        }

        .menu-info p {
            font-size: 12px;
            color: #666;
            margin: 5px 0;
        }

        .menu-info a {
            color: #000;
            text-decoration: none;
        }

        /* Main Content */
        .main-content {
            transition: margin-left 0.4s ease;
            position: relative;
            margin-top: 0;
            padding-top: 0;
        }

        .main-content.menu-open {
            margin-left: 330px;
        }

        /* Landing Page */
        .landing {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 30px;
        }

        .landing h1 {
            font-size: 24px;
            font-weight: 300;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .landing .subtitle {
            font-size: 14px;
            color: #666;
            margin-bottom: 40px;
        }

        .landing .bio {
            max-width: 600px;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 40px;
        }

        .landing .links {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .landing .links a {
            color: #000;
            text-decoration: none;
            font-size: 12px;
            border-bottom: 1px solid transparent;
            transition: border-color 0.3s ease;
        }

        .landing .links a:hover {
            border-bottom-color: #000;
        }

        /* Gallery Section */
        .gallery {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 40px 30px 30px;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 0;
        }

        .single-image-view {
            margin-top: 0;
            padding-top: 0;
        }

        .gallery.active {
            display: block;
        }

        .gallery h2 {
            font-size: 18px;
            font-weight: 300;
            margin-bottom: 40px;
            text-align: center;
        }

        .gallery-grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 60px; /* generous space between images */
    margin-top: 40px;
}

.gallery-item {
    width: 100%;
    max-width: 900px; /* or 1000px for even larger images */
    background: none;
    box-shadow: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: visible;
    aspect-ratio: unset;
    cursor: default;
    transition: none;
}

.gallery-item img {
    width: 100%;
    height: auto;
    object-fit: contain;
    border-radius: 0;
    box-shadow: none;
}

        /* About Section */
        .about {
            display: none;
            padding: 80px 30px 30px;
            max-width: 800px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .about.active {
            display: block;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 60px;
            align-items: start;
        }

        .about-image {
            aspect-ratio: 4/5;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 12px;
        }

        .about-text h2 {
            font-size: 18px;
            font-weight: 300;
            margin-bottom: 20px;
        }

        .about-text p {
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        /* Books Section */
        .books {
            display: none;
            padding: 80px 30px 30px;
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
        }

        .books.active {
            display: block;
        }

        .books h2 {
            font-size: 18px;
            font-weight: 300;
            margin-bottom: 40px;
            text-align: center;
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .book-item {
            text-align: center;
        }

        .book-cover {
            aspect-ratio: 3/4;
            background: #f5f5f5;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 12px;
        }

        .book-info h3 {
            font-size: 16px;
            font-weight: 300;
            margin-bottom: 10px;
        }

        .book-info p {
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }

        /* Counter */
        .counter {
            position: absolute;
            bottom: 30px;
            right: 30px;
            font-size: 12px;
            font-family: 'Courier New', monospace;
            color: #666;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .menu-toggle {
                top: 20px;
                left: 20px;
            }

            .side-menu {
                width: 100%;
                left: -100%;
            }

            .main-content.menu-open {
                margin-left: 0;
            }

            .landing {
                padding: 0 20px;
            }

            .landing h1 {
                font-size: 20px;
            }

            .landing .links {
                gap: 20px;
            }

            .counter {
                bottom: 20px;
                right: 20px;
            }

            .gallery {
                padding: 60px 20px 20px;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .about {
                padding: 60px 20px 20px;
            }

            .about-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .books {
                padding: 60px 20px 20px;
            }
        }

 /* --- Add the new minimalist gallery CSS below --- */
    body {
        font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 15px;
        color: #222;
        background: #fff;
        letter-spacing: 0.01em;
    }

    .gallery-controls button {
        font-family: inherit;
        font-size: 1.1em;
        background: none;
        border: none;
        color: #222;
        padding: 0 16px;
        cursor: pointer;
        font-weight: 300;
        transition: color 0.2s;
    }
    .gallery-controls button:hover {
        color: #888;
    }

    .gallery-links a,
    #backToSingleView,
    .back-to-image-link {
        font-family: inherit;
        font-size: 0.8em;
        color: #222;
        text-decoration: none;
        margin: 0 8px;
        font-weight: 300;
        letter-spacing: 0.01em;
        transition: color 0.2s;
    }
    .gallery-links a:hover,
    #backToSingleView:hover,
    .back-to-image-link:hover {
        color: #888;
        text-decoration: underline;
    }

    #imageCounter {
        font-size: 0.8em;
        color: #888;
        font-weight: 300;
        letter-spacing: 0.01em;
	margin: 0 8px;
    	vertical-align: middle;
    }

    .thumbs-grid img {
        border-radius: 2px;
        box-shadow: 0 1px 4px rgba(0,0,0,0.04);
        transition: box-shadow 0.2s;
    }
    .thumbs-grid img:hover {
        box-shadow: 0 2px 12px rgba(0,0,0,0.10);
    }

.gallery-links a,
#backToSingleView {
    font-size: 0.8em;
    /* keep other styles as before */
}
.gallery-links {
    margin-top: 0;
    margin-bottom: 4px;
}
.gallery-controls {
    margin-top: 10px;
}
#mainGalleryImage {
    margin-bottom: 10px;
}

.landing {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0;
  background: #fff;
}

.landing-slideshow {
  width: 100%;
  max-width: 900px;
  margin: 48px auto 32px auto;
  padding: 0 32px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.landing-slideshow img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 2px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.08);
  margin-bottom: 12px;
  background: #fff;
}

.landing-controls {
  margin-bottom: 16px;
}

.landing-controls button {
    background: none;
    border: none;
    color: #222;
    font-size: 1.5em;
    padding: 0 10px;
    cursor: pointer;
    font-weight: 300;
    transition: color 0.2s;
    box-shadow: none;
    outline: none;
}
.landing-controls button:hover {
    color: #888;
    background: none;
    border: none;
    box-shadow: none;
}

@media (max-width: 700px) {
  .landing-slideshow {
    max-width: 98vw;
    padding: 0 2vw;
    margin: 24px auto 16px auto;
  }
}
.landing-slideshow {
    width: 100%;
    max-width: 900px;
    margin: 48px auto 32px auto;
    padding: 0 32px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.landing-slideshow img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 2px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    margin-bottom: 12px;
    background: #fff;
}

@media (max-width: 700px) {
    .landing-slideshow {
        max-width: 98vw;
        padding: 0 2vw;
        margin: 24px auto 16px auto;
    }
}

.landing-links a,
.gallery-links a,
#backToSingleView {
    font-size: 0.8em;
    color: #222;
    text-decoration: none;
    margin: 0 8px;
    font-weight: 300;
    letter-spacing: 0.01em;
    transition: color 0.2s;
}
.landing-links a:hover,
.gallery-links a:hover,
#backToSingleView:hover {
    color: #888;
    text-decoration: underline;
}

.landing-thumbs-grid img {
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.04);
    transition: box-shadow 0.2s;
    margin-bottom: 8px;
}
.landing-thumbs-grid img:hover {
    box-shadow: 0 2px 12px rgba(0,0,0,0.10);
}
    /* --- End of new CSS --- */
    .menu-topnav {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: flex-start;
            gap: 12px;
            font-size: 12px;
            font-weight: 400;
            margin-bottom: 24px;
            margin-top: 0;
            letter-spacing: 0.01em;
        }
        .menu-topnav-link {
            color: #333;
            text-decoration: none;
            opacity: 0.7;
            font-size: 12px;
            font-weight: 400;
            padding: 2px 4px;
            border-radius: 2px;
            transition: background 0.2s, color 0.2s, opacity 0.2s;
        }
        .menu-topnav-link.active {
            opacity: 1;
            font-weight: 500;
            color: #222;
        }
        .menu-topnav-link:hover {
            background: #f5f5f5;
            color: #222;
            opacity: 1;
        }
        .menu-topnav-sep {
            color: #bbb;
            font-size: 12px;
            margin: 0 2px;
        }
        .menu-work-list {
            list-style: none;
            padding: 0;
            margin: 0 0 24px 0;
            letter-spacing: 0.04em;
            line-height: 1.7;
        }
        .menu-work-list li {
            margin: 10px 0;
        }
        .menu-work-list a {
            color: #555;
            font-size: 11.5px;
            font-weight: 400;
            transition: color 0.2s;
            letter-spacing: 0.04em;
            text-decoration: none !important;
        }
        .menu-work-list a:hover {
            color: #888;
            text-decoration: none;
        }
        #menuInfoContent {
            font-size: 12.5px;
            color: #444;
            margin-bottom: 24px;
        }
        .menu-info-bio {
            margin-bottom: 18px;
            line-height: 1.6;
        }
        .menu-info-books {
            margin-bottom: 18px;
        }
        .menu-info-links {
            font-size: 11.5px;
            margin-top: 10px;
        }
        .menu-info-links a {
            color: #555;
            text-decoration: none;
            margin: 0 4px;
            font-weight: 400;
            transition: color 0.2s;
        }
        .menu-info-links a:hover {
            color: #888;
            text-decoration: underline;
        }
        @media (max-width: 700px) {
            .menu-topnav {
                font-size: 11px;
                gap: 8px;
            }
            .menu-work-list a {
                font-size: 13px;
            }
            #menuInfoContent {
                font-size: 12px;
            }
        }

        #landingSlideshowImage {
            max-width: 100%;
            max-height: 80vh;
            display: block;
            margin: auto;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 0;
            box-shadow: none;
            background: none;
        }

        /* Add or update CSS for gallery-links and gallery-controls to match sidebar menu bar */
        .gallery-links, .gallery-controls {
            font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 13px;
            font-weight: 400;
            color: #222;
            letter-spacing: 0.06em;
            margin-top: 12px;
            margin-bottom: 0;
        }
        .gallery-links a {
            color: #222;
            text-decoration: none;
            font-weight: 400;
            letter-spacing: 0.06em;
            transition: color 0.2s;
        }
        .gallery-links a:hover {
            color: #888;
        }
        .menu-topnav-sep {
            color: #bbb;
            margin: 0 7px;
            font-size: 13px;
            font-weight: 400;
            letter-spacing: 0.06em;
            vertical-align: middle;
        }

        /* Add or update CSS for new gallery-controls layout */
        .gallery-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 500px;
            margin: 0 auto 18px auto;
            padding: 0 8px;
            position: relative;
            top: 0;
        }
        .gallery-controls .arrow-btn {
            background: none;
            border: none;
            font-size: 20px;
            color: #222;
            cursor: pointer;
            padding: 0 8px;
            transition: color 0.2s;
        }
        .gallery-controls .arrow-btn:hover {
            color: #888;
        }
        .gallery-controls .image-counter {
            font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 13px;
            font-weight: 400;
            color: #222;
            letter-spacing: 0.06em;
            text-align: center;
            flex: 1 1 auto;
        }

        .book-list {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        .book-row {
            display: flex;
            align-items: baseline;
            font-size: 12px;
            margin-bottom: 2px;
        }
        .book-year {
            display: inline-block;
            width: 38px;
            min-width: 38px;
            text-align: left;
            font-variant-numeric: tabular-nums;
            color: #444;
            font-weight: 400;
            margin-right: 8px;
        }
        .book-title {
            flex: 1 1 auto;
            font-style: italic;
            color: #222;
            font-weight: 400;
            margin-right: 8px;
        }
        .book-publisher {
            color: #aaa;
            font-size: 11px;
            font-weight: 400;
            margin-left: 2px;
        }
        .book-preview {
            color: #aaa;
            font-size: 11px;
            font-style: normal;
            margin-left: 2px;
        }
        .book-list-grid {
            display: grid;
            grid-template-columns: 38px 1fr 80px;
            row-gap: 2px;
            column-gap: 10px;
        }
        .book-row-grid {
            display: contents;
        }
        .book-year-grid {
            text-align: right;
            color: #777;
            font-size: 10px;
            font-variant-numeric: tabular-nums;
            font-weight: 400;
            padding-right: 6px;
            width: 38px;
            min-width: 38px;
            box-sizing: border-box;
        }
        .book-title-grid {
            font-style: italic;
            color: #000;
            font-size: 11px;
            font-weight: 400;
            letter-spacing: 0.01em;
            padding-right: 8px;
        }
        .book-publisher-grid {
            color: #777;
            font-size: 10px;
            font-variant: small-caps;
            font-weight: 400;
            letter-spacing: 0.04em;
            text-align: right;
            width: 80px;
            min-width: 80px;
            box-sizing: border-box;
            padding-left: 2px;
        }

        .side-menu,
        .menu-info,
        .menu-info-bio,
        .menu-info-books,
        .menu-info-links {
            line-height: 1.7;
        }

        .menu-info-bio,
        .menu-info-books,
        .book-list-grid,
        .menu-info,
        .menu-info-links {
            font-size: 11px;
        }

        .books-header {
            font-variant: small-caps;
            font-weight: 400;
            letter-spacing: 0.08em;
            color: #888;
            font-size: 14px;
            margin-bottom: 8px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <!-- Menu Toggle Button -->
    <button class="menu-toggle" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-topnav">
            <a href="#" id="menuWork" class="menu-topnav-link active">Work</a>
            <span class="menu-topnav-sep">/</span>
            <a href="#" id="menuInfo" class="menu-topnav-link">Info</a>
            <span class="menu-topnav-sep">/</span>
            <a href="https://www.readprocess.co" id="menuProcess" class="menu-topnav-link" target="_blank" rel="noopener">Process</a>
        </div>
        <div id="menuMainLinks">
            <ul class="menu-work-list">
                <li><a href="#" onclick="showSection('recent')">Recent</a></li>
                        <li><a href="#" onclick="showSection('portraits-i')">Portraits I</a></li>
                        <li><a href="#" onclick="showSection('portraits-ii')">Portraits II</a></li>
                <li><a href="#" onclick="showSection('portraits-iii')">Portraits III</a></li>
                <li><a href="#" onclick="showSection('portraits-iv')">Portraits IV</a></li>
                <li><a href="#" onclick="showSection('portfolio-ams:centre')">Portfolio - AMS/Centre</a></li>
                <li><a href="#" onclick="showSection('portfolio-notice')">Portfolio - NOTICE</a></li>
                <li><a href="#" onclick="showSection('portfolio-notice-ii')">Portfolio - NOTICE II</a></li>
                <li><a href="#" onclick="showSection('portfolio-njv1')">Portfolio - NJV1</a></li>
                        <li><a href="#" onclick="showSection('portfolio-one-of-many')">Portfolio - one of many</a></li>
                <li><a href="#" onclick="showSection('portfolio-the-best-medicine')">Portfolio - the best medicine</a></li>
                <li><a href="#" onclick="showSection('travel')">Travel</a></li>
                    </ul>
        </div>
        <div id="menuInfoContent" style="display:none;">
            <div class="menu-info-bio">
                Wesley Verhoeve is an Amsterdam-based photographer, curator and writer.<br><br>
                His photography, rooted in human stories of craft and community, has been featured in the New York Times, National Geographic, and Wired.<br><br>
                As the founding curator of the Projected series at ICP in New York City, he organized 96 exhibitions showcasing 312 photographers from 53 countries.<br><br>
                He publishes Process, a weekly newsletter on photography and creative work.
            </div>
            <div class="menu-info-books">
                <span class="books-header">Books</span><br><br>
                <div class="book-list-grid">
                    <div class="book-row-grid">
                        <div class="book-year-grid">2025</div>
                        <div class="book-title-grid"><em>The Best Medicine</em></div>
                        <div class="book-publisher-grid">New Style</div>
                    </div>
                    <div class="book-row-grid">
                        <div class="book-year-grid">2025</div>
                        <div class="book-title-grid"><em>Creatives In</em> Preview</div>
                        <div class="book-publisher-grid">New Style</div>
                    </div>
                    <div class="book-row-grid">
                        <div class="book-year-grid">2024</div>
                        <div class="book-title-grid"><em>NOTICE Journal, Vol. 1</em></div>
                        <div class="book-publisher-grid">New Style</div>
                    </div>
                    <div class="book-row-grid">
                        <div class="book-year-grid">2021</div>
                        <div class="book-title-grid"><em>NOTICE</em></div>
                        <div class="book-publisher-grid">New Style</div>
                    </div>
                </div>
            </div>
            <div class="menu-info-links" style="margin-top: 48px;">
                <a href="mailto:hello@wesley.co" target="_blank">Contact</a> -
                <a href="https://www.instagram.com/wesley" target="_blank">Instagram</a> -
                <a href="#" id="mentoringLink">Mentoring</a>
            </div>
        </div>
        
        <div class="menu-info">
            <p>Available for commissions</p>
            <p>Print inquiries welcome</p>
            <p>Licensing via <a href="https://www.stills.com/artists/wesley-verhoeve/1985" target="_blank" rel="noopener">Stills</a></p>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay" onclick="closeMenu()"></div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
    <!-- Removed landing section. Recent gallery is now the landing view. -->

        <!-- Gallery Sections -->
   <section class="gallery" id="recent">
    <div class="single-image-view" id="singleImageViewRecent" style="display:none;">
        <div class="image-container" style="position: relative;">
            <img id="mainGalleryImageRecent" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
            <div class="floating-title" id="floatingTitleRecent" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                <span id="floatingTitleTextRecent">Recent</span>
                <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                <span id="floatingTitleCounterRecent">1/9</span>
      </div>
      </div>
        <div class="gallery-links" style="text-align:center; margin-top: 32px;">
            <a href="#" id="indexLinkRecent">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkRecent">Thumbnails</a>
        </div>
      </div>
    <div class="thumbs-view" id="thumbsViewRecent" style="display:none;">
        <div class="thumbs-grid" id="thumbsGridRecent" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
        <div style="text-align:center; margin-top:20px;">
            <a href="#" id="backToSingleViewRecent" class="back-to-image-link">Back to Image</a>
    </div>
    </div>
  </section>

   <section class="gallery" id="portraits-i">
    <div class="single-image-view" id="singleImageView" style="display:none;">
        <div class="image-container" style="position: relative;">
        <img id="mainGalleryImage" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
            <div class="floating-title" id="floatingTitlePortraitsI" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                <span id="floatingTitleTextPortraitsI">Portraits I</span>
                <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                <span id="floatingTitleCounterPortraitsI">1/7</span>
        </div>
        </div>
        <div class="gallery-links" style="text-align:center; margin-top: 32px;">
            <a href="#" id="indexLink">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLink">Thumbnails</a>
        </div>
    </div>
    <div class="thumbs-view" id="thumbsView" style="display:none;">
        <div class="thumbs-grid" id="thumbsGrid" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
        <div style="text-align:center; margin-top:20px;">
            <a href="#" id="backToSingleView" class="back-to-image-link">Back to Image</a>
        </div>
    </div>
</section>

        <section class="gallery" id="portraits-ii">
            <div class="single-image-view" id="singleImageViewII" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageII" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitlePortraitsII" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextPortraitsII">Portraits II</span>
                        <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterPortraitsII">1/4</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkII">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkII">Thumbnails</a>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewII" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridII" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewII" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="portraits-iii">
            <div class="single-image-view" id="singleImageViewPortraitsIII" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImagePortraitsIII" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitlePortraitsIII" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextPortraitsIII">Portraits III</span>
                        <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterPortraitsIII">1/5</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkPortraitsIII">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkPortraitsIII">Thumbnails</a>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewPortraitsIII" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridPortraitsIII" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewPortraitsIII" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="travel">
            <div class="single-image-view" id="singleImageViewTravel" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageTravel" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitleTravel" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextTravel">Travel</span>
                        <span class="floating-title-sep" id="floatingTitleSepTravel" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterTravel">1/3</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkTravel">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkTravel">Thumbnails</a>
                </div>
                <div class="gallery-controls" style="text-align:center; margin-top:20px;">
                    <button id="prevImageBtnTravel" style="display:none;">&larr;</button>
                    <span id="imageCounterTravel" style="display:none;"></span>
                    <button id="nextImageBtnTravel" style="display:none;">&rarr;</button>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewTravel" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridTravel" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewTravel" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="portfolio-one-of-many">
            <div class="single-image-view" id="singleImageViewOneOfMany" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageOneOfMany" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitleOneOfMany" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextOneOfMany">Portfolio - one of many</span>
                        <span class="floating-title-sep" id="floatingTitleSepOneOfMany" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterOneOfMany">1/4</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkOneOfMany">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkOneOfMany">Thumbnails</a>
                </div>
                <div class="gallery-controls" style="text-align:center; margin-top:20px;">
                    <button id="prevImageBtnOneOfMany" style="display:none;">&larr;</button>
                    <span id="imageCounterOneOfMany" style="display:none;"></span>
                    <button id="nextImageBtnOneOfMany" style="display:none;">&rarr;</button>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewOneOfMany" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridOneOfMany" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewOneOfMany" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="portfolio-the-best-medicine">
            <div class="single-image-view" id="singleImageViewBestMedicine" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageBestMedicine" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitleBestMedicine" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextBestMedicine">Portfolio - the best medicine</span>
                        <span class="floating-title-sep" id="floatingTitleSepBestMedicine" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterBestMedicine">1/5</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkBestMedicine">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkBestMedicine">Thumbnails</a>
                </div>
                <div class="gallery-controls" style="text-align:center; margin-top:20px;">
                    <button id="prevImageBtnBestMedicine" style="display:none;">&larr;</button>
                    <span id="imageCounterBestMedicine" style="display:none;"></span>
                    <button id="nextImageBtnBestMedicine" style="display:none;">&rarr;</button>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewBestMedicine" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridBestMedicine" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewBestMedicine" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <!-- Books Section -->
        <section class="books" id="books">
            <h2>Books</h2>
            <div class="books-grid" id="booksGrid">
                <div class="book-item">
                    <div class="book-cover">
                        <span>Book covers will appear here</span>
                    </div>
                    <div class="book-info">
                        <h3>Your Photography Books</h3>
                        <p>Add book covers and descriptions to the /books/ folder</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Process Section -->
        <section class="about" id="process">
            <div class="about-content">
                <div class="about-image">
                    <span>Process images</span>
                </div>
                <div class="about-text">
                    <h2>Process</h2>
                    <p>Share insights into your creative process, techniques, and behind-the-scenes work.</p>
                    <p>This section can include your thoughts on photography, equipment discussions, or work-in-progress shots.</p>
                    <p>Content from your /process/ folder will appear here.</p>
                </div>
            </div>
        </section>

        <!-- Info Section -->
        <section class="about" id="info">
            <div class="about-content">
                <div class="about-image">
                    <span>Your portrait photo</span>
                </div>
                <div class="about-text">
                    <h2>Info</h2>
                    <p>Add your full biography here. This is where you can tell your story, share your artistic vision, and connect with visitors on a personal level.</p>
                    <p>You can include information about your background, training, exhibitions, awards, and what drives your photographic practice.</p>
                    <p>This section helps potential clients and galleries understand who you are beyond your images.</p>
                </div>
            </div>
        </section>

        <section class="gallery" id="portfolio-ams:centre">
            <div class="single-image-view" id="singleImageViewAmsCentre" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageAmsCentre" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitleAmsCentre" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextAmsCentre">Portfolio - AMS/Centre</span>
                        <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterAmsCentre">1/5</span>
    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkAmsCentre">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkAmsCentre">Thumbnails</a>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewAmsCentre" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridAmsCentre" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewAmsCentre" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="portfolio-notice">
            <div class="single-image-view" id="singleImageViewNotice" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageNotice" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitleNotice" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextNotice">Portfolio - NOTICE</span>
                        <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterNotice">1/5</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkNotice">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkNotice">Thumbnails</a>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewNotice" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridNotice" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewNotice" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="portfolio-notice-ii">
            <div class="single-image-view" id="singleImageViewNoticeII" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageNoticeII" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitleNoticeII" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextNoticeII">Portfolio - NOTICE II</span>
                        <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterNoticeII">1/5</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkNoticeII">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkNoticeII">Thumbnails</a>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewNoticeII" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridNoticeII" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewNoticeII" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="portraits-iv">
            <div class="single-image-view" id="singleImageViewPortraitsIV" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImagePortraitsIV" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitlePortraitsIV" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextPortraitsIV">Portraits IV</span>
                        <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterPortraitsIV">1/4</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkPortraitsIV">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkPortraitsIV">Thumbnails</a>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewPortraitsIV" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridPortraitsIV" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewPortraitsIV" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>

        <section class="gallery" id="portfolio-njv1">
            <div class="single-image-view" id="singleImageViewNjv1" style="display:none;">
                <div class="image-container" style="position: relative;">
                    <img id="mainGalleryImageNjv1" src="" alt="" style="max-width:100%; max-height:80vh; display:block; margin:auto;">
                    <div class="floating-title" id="floatingTitleNjv1" style="position: absolute; top: 20px; left: 20px; color: white; padding: 8px 12px; font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; letter-spacing: 0.06em; pointer-events: none; z-index: 10; opacity: 0; transition: opacity 0.3s, color 0.3s;">
                        <span id="floatingTitleTextNjv1">Portfolio - NJV1</span>
                        <span class="floating-title-sep" style="margin: 0 7px; color: #bbb;">â€“</span>
                        <span id="floatingTitleCounterNjv1">1/4</span>
                    </div>
                </div>
                <div class="gallery-links" style="text-align:center; margin-top: 32px;">
                    <a href="#" id="indexLinkNjv1">Index</a> <span class="menu-topnav-sep">/</span> <a href="#" id="thumbsLinkNjv1">Thumbnails</a>
                </div>
            </div>
            <div class="thumbs-view" id="thumbsViewNjv1" style="display:none;">
                <div class="thumbs-grid" id="thumbsGridNjv1" style="display:flex; flex-wrap:wrap; gap:16px; justify-content:center;"></div>
                <div style="text-align:center; margin-top:20px;">
                    <a href="#" id="backToSingleViewNjv1" class="back-to-image-link">Back to Image</a>
                </div>
            </div>
        </section>
    </div>

    <script src="gallery-config.js"></script>
    <script>
        // Gallery configuration with naming conventions
        // REMOVED: const galleryConfig = { ... } (now in gallery-config.js)
        // REMOVED: const portraitsIImages = [ ... ] (now in gallery-config.js)
        // Use window.galleryConfig and window.portraitsIImages instead

        // Generate possible image paths based on naming convention
        function generateImagePaths(config) {
            const paths = [];
            const { folder, prefix, maxImages, extensions } = config;
            
            for (let i = 1; i <= maxImages; i++) {
                const paddedNumber = String(i).padStart(3, '0'); // 001, 002, 003, etc.
                
                extensions.forEach(ext => {
                    paths.push(`${folder}${prefix}${paddedNumber}.${ext}`);
                });
            }
            
            return paths;
        }

        // Load photos using naming convention
        async function loadPhotosFromFolder(galleryName, gridId) {
            console.log("Loading photos for:", galleryName);
            
            const grid = document.getElementById(gridId);
            const config = window.galleryConfig[galleryName];
            
            if (!grid) {
                console.error("Grid not found:", gridId);
                return;
            }
            
            if (!config) {
                grid.innerHTML = '<div class="gallery-item"><span>No configuration found for this gallery</span></div>';
                return;
            }
            
            // Clear existing content and show loading message
            grid.innerHTML = '<div class="gallery-item"><span>Loading images...</span></div>';
            
            const possiblePaths = generateImagePaths(config);
            const validImages = [];
            let checkedCount = 0;
            
            // Check each possible image path
            const checkPromises = possiblePaths.map(imagePath => {
                return new Promise(resolve => {
                    const img = new Image();
                    
                    img.onload = function() {
                        console.log("Found image:", imagePath);
                        validImages.push(imagePath);
                        resolve();
                    };
                    
                    img.onerror = function() {
                        // Silently fail for missing images - this is expected
                        resolve();
                    };
                    
                    img.src = imagePath;
                    
                    // Timeout after 3 seconds to avoid hanging
                    setTimeout(() => {
                        resolve();
                    }, 3000);
                });
            });
            
            // Wait for all checks to complete
            await Promise.all(checkPromises);
            
            // Clear loading message
            grid.innerHTML = '';
            
            if (validImages.length === 0) {
                grid.innerHTML = `<div class="gallery-item"><span>No images found.<br>Expected format: ${config.folder}${config.prefix}001.jpg</span></div>`;
                return;
            }
            
            // Sort images numerically
            validImages.sort((a, b) => {
                const numA = parseInt(a.match(/(\d+)\./)?.[1] || '0');
                const numB = parseInt(b.match(/(\d+)\./)?.[1] || '0');
                return numA - numB;
            });
            
            // Create gallery items for valid images
            validImages.forEach((imagePath, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                
                const img = document.createElement('img');
                img.src = imagePath;
                img.alt = `${galleryName} image ${index + 1}`;
                
                galleryItem.appendChild(img);
                grid.appendChild(galleryItem);
            });
            
            console.log(`Loaded ${validImages.length} images for ${galleryName}`);
        }

        // Menu functionality
        function toggleMenu() {
            const menu = document.getElementById('sideMenu');
            const overlay = document.getElementById('overlay');
            const mainContent = document.getElementById('mainContent');
            const menuToggle = document.querySelector('.menu-toggle');
            
            menu.classList.toggle('active');
            overlay.classList.toggle('active');
            mainContent.classList.toggle('menu-open');
            menuToggle.classList.toggle('active');
        }

        function closeMenu() {
            const menu = document.getElementById('sideMenu');
            const overlay = document.getElementById('overlay');
            const mainContent = document.getElementById('mainContent');
            const menuToggle = document.querySelector('.menu-toggle');
            
            menu.classList.remove('active');
            overlay.classList.remove('active');
            mainContent.classList.remove('menu-open');
            menuToggle.classList.remove('active');
        }

        // Work submenu toggle
        function toggleWorkSubmenu() {
            const submenu = document.getElementById('workSubmenu');
            submenu.style.display = submenu.style.display === 'block' ? 'none' : 'block';
        }

        // Section navigation
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none';
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                if (sectionName === 'landing') {
                    targetSection.style.display = 'flex';
                } else {
                    targetSection.style.display = 'block';
                    targetSection.classList.add('active');
                }
            }
            
            // Load photos for gallery sections
            if (window.galleryConfig[sectionName]) {
                const gridId = sectionName.replace(/-/g, '').toLowerCase() + 'Grid';
                loadPhotosFromFolder(sectionName, gridId);
            }
            
            // Close menu
            closeMenu();
        }
document.addEventListener('DOMContentLoaded', function() {
    showSection('recent');
});

// --- Portraits I Gallery Data ---
// REMOVED: const portraitsIImages = [ ... ] (entire array)
// Use window.galleryConfig['portraits-i'] as the image array
let currentImageIndex = 0;

// --- DOM Elements for Portraits I ---
const singleImageView = document.getElementById('singleImageView');
const mainGalleryImage = document.getElementById('mainGalleryImage');
const imageCounter = document.getElementById('imageCounter');
const thumbsView = document.getElementById('thumbsView');
const thumbsGrid = document.getElementById('thumbsGrid');
const thumbsLink = document.getElementById('thumbsLink');
const backToSingleView = document.getElementById('backToSingleView');
const indexLink = document.getElementById('indexLink');
const floatingTitlePortraitsI = document.getElementById('floatingTitlePortraitsI');

function getPortraitsIImages() {
    return window.galleryConfig && window.galleryConfig['portraits-i'] ? window.galleryConfig['portraits-i'] : [];
}

// Mouse tracking for floating title - Portraits I
function setupFloatingTitlePortraitsI() {
    const imageContainer = document.querySelector('#singleImageView .image-container');
    const mainImage = document.getElementById('mainGalleryImage');
    const floatingTitle = document.getElementById('floatingTitlePortraitsI');
    const floatingTitleSep = floatingTitle ? floatingTitle.querySelector('.floating-title-sep') : null;
    if (imageContainer && floatingTitle && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            floatingTitle.style.left = (x - floatingTitle.offsetWidth / 2) + 'px';
            floatingTitle.style.top = (y - floatingTitle.offsetHeight - 2) + 'px';
            floatingTitle.style.opacity = '1';
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    if (brightness < 128) {
                        floatingTitle.style.color = '#ffffff';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                    } else {
                        floatingTitle.style.color = '#000000';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitle.style.color = '#ffffff';
                    if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                }
            }
        });
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitle.style.opacity = '0';
        });
    }
}

// --- Make the main image clickable to go to next image ---
if (mainGalleryImage) {
    mainGalleryImage.style.cursor = "pointer";
    mainGalleryImage.onclick = function() {
        const images = getPortraitsIImages();
        if (currentImageIndex < images.length - 1) {
            showSingleImageView(currentImageIndex + 1);
        } else {
            showSingleImageView(0);
        }
    };
}

// --- Functions for Portraits I ---
function showSingleImageView(index) {
    const images = getPortraitsIImages();
    if (!images.length) return;
    currentImageIndex = index;
    mainGalleryImage.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterPortraitsI');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageView.style.display = 'block';
    thumbsView.style.display = 'none';
    setupFloatingTitlePortraitsI();
}
function showThumbsView() {
    const images = getPortraitsIImages();
    thumbsGrid.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageView(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGrid.appendChild(thumbWrapper);
    });
    singleImageView.style.display = 'none';
    thumbsView.style.display = 'block';
}

// --- Event Listeners for Portraits I ---
if (thumbsLink) thumbsLink.onclick = (e) => { e.preventDefault(); showThumbsView(); };
if (backToSingleView) backToSingleView.onclick = (e) => { e.preventDefault(); showSingleImageView(currentImageIndex); };
if (indexLink) indexLink.onclick = (e) => { e.preventDefault(); toggleMenu(); };

// --- Initialize Portraits I Gallery ---
function startPortraitsIGallery() {
    const images = getPortraitsIImages();
    if (images.length > 0) {
    showSingleImageView(0);
    }
}

// --- Update showSection for Portraits I ---
const originalShowSection = showSection;
showSection = function(sectionName) {
    // Hide all sections
    const sections = document.querySelectorAll('section');
    sections.forEach(section => {
        section.classList.remove('active');
        section.style.display = 'none';
    });
    // Show selected section
    const targetSection = document.getElementById(sectionName);
    if (targetSection) {
        if (sectionName === 'landing') {
            targetSection.style.display = 'flex';
        } else {
            targetSection.style.display = 'block';
            targetSection.classList.add('active');
        }
    }
    // Portraits I: show single image view
    if (sectionName === 'portraits-i') {
        startPortraitsIGallery();
    }
    // Close menu
    closeMenu();
};

// Add JS for Portraits II below Portraits I logic
// --- Portraits II Gallery Data ---
let currentImageIndexII = 0;
const singleImageViewII = document.getElementById('singleImageViewII');
const mainGalleryImageII = document.getElementById('mainGalleryImageII');
const imageCounterII = document.getElementById('imageCounterII');
const thumbsViewII = document.getElementById('thumbsViewII');
const thumbsGridII = document.getElementById('thumbsGridII');
const thumbsLinkII = document.getElementById('thumbsLinkII');
const backToSingleViewII = document.getElementById('backToSingleViewII');
const indexLinkII = document.getElementById('indexLinkII');
const floatingTitlePortraitsII = document.getElementById('floatingTitlePortraitsII');

function getPortraitsIIImages() {
    return window.galleryConfig && window.galleryConfig['portraits-ii'] ? window.galleryConfig['portraits-ii'] : [];
}

// Mouse tracking for floating title - Portraits II
function setupFloatingTitlePortraitsII() {
    const imageContainer = document.querySelector('#singleImageViewII .image-container');
    const mainImage = document.getElementById('mainGalleryImageII');
    const floatingTitle = document.getElementById('floatingTitlePortraitsII');
    const floatingTitleSep = floatingTitle ? floatingTitle.querySelector('.floating-title-sep') : null;
    if (imageContainer && floatingTitle && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            floatingTitle.style.left = (x - floatingTitle.offsetWidth / 2) + 'px';
            floatingTitle.style.top = (y - floatingTitle.offsetHeight - 2) + 'px';
            floatingTitle.style.opacity = '1';
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    if (brightness < 128) {
                        floatingTitle.style.color = '#ffffff';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                    } else {
                        floatingTitle.style.color = '#000000';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitle.style.color = '#ffffff';
                    if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                }
            }
        });
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitle.style.opacity = '0';
        });
    }
}

if (mainGalleryImageII) {
    mainGalleryImageII.style.cursor = "pointer";
    mainGalleryImageII.onclick = function() {
        const images = getPortraitsIIImages();
        if (currentImageIndexII < images.length - 1) {
            showSingleImageViewII(currentImageIndexII + 1);
        } else {
            showSingleImageViewII(0);
        }
    };
}

function showSingleImageViewII(index) {
    const images = getPortraitsIIImages();
    if (!images.length) return;
    currentImageIndexII = index;
    mainGalleryImageII.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterPortraitsII');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewII.style.display = 'block';
    thumbsViewII.style.display = 'none';
    setupFloatingTitlePortraitsII();
}
function showThumbsViewII() {
    const images = getPortraitsIIImages();
    thumbsGridII.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewII(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridII.appendChild(thumbWrapper);
    });
    singleImageViewII.style.display = 'none';
    thumbsViewII.style.display = 'block';
}
if (thumbsLinkII && backToSingleViewII && indexLinkII) {
    thumbsLinkII.onclick = (e) => { e.preventDefault(); showThumbsViewII(); };
    backToSingleViewII.onclick = (e) => { e.preventDefault(); showSingleImageViewII(currentImageIndexII); };
    indexLinkII.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}
document.addEventListener('keydown', (e) => {
    if (singleImageViewII && singleImageViewII.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnII.onclick();
        if (e.key === 'ArrowRight') nextImageBtnII.onclick();
    }
});
function startPortraitsIIGallery() {
    const images = getPortraitsIIImages();
    if (images.length > 0) {
        showSingleImageViewII(0);
    }
}
// Update showSection for Portraits II
const originalShowSectionII = showSection;
showSection = function(sectionName) {
    // Hide all sections
    const sections = document.querySelectorAll('section');
    sections.forEach(section => {
        section.classList.remove('active');
        section.style.display = 'none';
    });
    // Show selected section
    const targetSection = document.getElementById(sectionName);
    if (targetSection) {
        if (sectionName === 'landing') {
            targetSection.style.display = 'flex';
        } else {
            targetSection.style.display = 'block';
            targetSection.classList.add('active');
        }
    }
    // Portraits I: show single image view
    if (sectionName === 'portraits-i') {
        startPortraitsIGallery();
    }
    // Portraits II: show single image view
    if (sectionName === 'portraits-ii') {
        startPortraitsIIGallery();
    }
    // Close menu
    closeMenu();
};

// Add JS for Travel gallery (single-image and thumbs view, navigation, keyboard support)
let currentImageIndexTravel = 0;
const singleImageViewTravel = document.getElementById('singleImageViewTravel');
const mainGalleryImageTravel = document.getElementById('mainGalleryImageTravel');
const imageCounterTravel = document.getElementById('imageCounterTravel');
const thumbsViewTravel = document.getElementById('thumbsViewTravel');
const thumbsGridTravel = document.getElementById('thumbsGridTravel');
const thumbsLinkTravel = document.getElementById('thumbsLinkTravel');
const backToSingleViewTravel = document.getElementById('backToSingleViewTravel');
const indexLinkTravel = document.getElementById('indexLinkTravel');
const floatingTitleTravel = document.getElementById('floatingTitleTravel');

function getTravelImages() {
    return window.galleryConfig && window.galleryConfig['travel'] ? window.galleryConfig['travel'] : [];
}

// Mouse tracking for floating title - Travel
function setupFloatingTitleTravel() {
    const imageContainer = document.querySelector('#singleImageViewTravel .image-container');
    const mainImage = document.getElementById('mainGalleryImageTravel');
    const floatingTitleSep = document.getElementById('floatingTitleSepTravel');
    if (imageContainer && floatingTitleTravel && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            floatingTitleTravel.style.left = (x - floatingTitleTravel.offsetWidth / 2) + 'px';
            floatingTitleTravel.style.top = (y - floatingTitleTravel.offsetHeight - 2) + 'px';
            floatingTitleTravel.style.opacity = '1';
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    if (brightness < 128) {
                        floatingTitleTravel.style.color = '#ffffff';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                    } else {
                        floatingTitleTravel.style.color = '#000000';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitleTravel.style.color = '#ffffff';
                    if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                }
            }
        });
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitleTravel.style.opacity = '0';
        });
    }
}

if (mainGalleryImageTravel) {
    mainGalleryImageTravel.style.cursor = "pointer";
    mainGalleryImageTravel.onclick = function() {
        const images = getTravelImages();
        if (currentImageIndexTravel < images.length - 1) {
            showSingleImageViewTravel(currentImageIndexTravel + 1);
        } else {
            showSingleImageViewTravel(0);
        }
    };
}

function showSingleImageViewTravel(index) {
    const images = getTravelImages();
    if (!images.length) return;
    currentImageIndexTravel = index;
    mainGalleryImageTravel.src = images[index];
    // Update floating title and counter
    const titleText = document.getElementById('floatingTitleTextTravel');
    const titleCounter = document.getElementById('floatingTitleCounterTravel');
    if (titleText) titleText.textContent = 'Travel';
    if (titleCounter) titleCounter.textContent = `${index + 1}/${images.length}`;
    singleImageViewTravel.style.display = 'block';
    thumbsViewTravel.style.display = 'none';
    setupFloatingTitleTravel();
}

function showThumbsViewTravel() {
    const images = getTravelImages();
    thumbsGridTravel.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewTravel(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridTravel.appendChild(thumbWrapper);
    });
    singleImageViewTravel.style.display = 'none';
    thumbsViewTravel.style.display = 'block';
}
if (thumbsLinkTravel && backToSingleViewTravel && indexLinkTravel) {
    thumbsLinkTravel.onclick = (e) => { e.preventDefault(); showThumbsViewTravel(); };
    backToSingleViewTravel.onclick = (e) => { e.preventDefault(); showSingleImageViewTravel(currentImageIndexTravel); };
    indexLinkTravel.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}
document.addEventListener('keydown', (e) => {
    if (singleImageViewTravel && singleImageViewTravel.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnTravel.onclick();
        if (e.key === 'ArrowRight') nextImageBtnTravel.onclick();
    }
});
function startTravelGallery() {
    const images = getTravelImages();
    if (images.length > 0) {
        showSingleImageViewTravel(0);
    }
}
// Add JS for Portfolio - one of many
let currentImageIndexOneOfMany = 0;
const singleImageViewOneOfMany = document.getElementById('singleImageViewOneOfMany');
const mainGalleryImageOneOfMany = document.getElementById('mainGalleryImageOneOfMany');
const imageCounterOneOfMany = document.getElementById('imageCounterOneOfMany');
const thumbsViewOneOfMany = document.getElementById('thumbsViewOneOfMany');
const thumbsGridOneOfMany = document.getElementById('thumbsGridOneOfMany');
const thumbsLinkOneOfMany = document.getElementById('thumbsLinkOneOfMany');
const backToSingleViewOneOfMany = document.getElementById('backToSingleViewOneOfMany');
const indexLinkOneOfMany = document.getElementById('indexLinkOneOfMany');
const floatingTitleOneOfMany = document.getElementById('floatingTitleOneOfMany');

function getOneOfManyImages() {
    return window.galleryConfig && window.galleryConfig['portfolio-one-of-many'] ? window.galleryConfig['portfolio-one-of-many'] : [];
}

// Mouse tracking for floating title - Portfolio - one of many
function setupFloatingTitleOneOfMany() {
    const imageContainer = document.querySelector('#singleImageViewOneOfMany .image-container');
    const mainImage = document.getElementById('mainGalleryImageOneOfMany');
    const floatingTitleSep = document.getElementById('floatingTitleSepOneOfMany');
    if (imageContainer && floatingTitleOneOfMany && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            floatingTitleOneOfMany.style.left = (x - floatingTitleOneOfMany.offsetWidth / 2) + 'px';
            floatingTitleOneOfMany.style.top = (y - floatingTitleOneOfMany.offsetHeight - 2) + 'px';
            floatingTitleOneOfMany.style.opacity = '1';
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    if (brightness < 128) {
                        floatingTitleOneOfMany.style.color = '#ffffff';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                    } else {
                        floatingTitleOneOfMany.style.color = '#000000';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitleOneOfMany.style.color = '#ffffff';
                    if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                }
            }
        });
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitleOneOfMany.style.opacity = '0';
        });
    }
}

if (mainGalleryImageOneOfMany) {
    mainGalleryImageOneOfMany.style.cursor = "pointer";
    mainGalleryImageOneOfMany.onclick = function() {
        const images = getOneOfManyImages();
        if (currentImageIndexOneOfMany < images.length - 1) {
            showSingleImageViewOneOfMany(currentImageIndexOneOfMany + 1);
        } else {
            showSingleImageViewOneOfMany(0);
        }
    };
}

function showSingleImageViewOneOfMany(index) {
    const images = getOneOfManyImages();
    if (!images.length) return;
    currentImageIndexOneOfMany = index;
    mainGalleryImageOneOfMany.src = images[index];
    // Update floating title and counter
    const titleText = document.getElementById('floatingTitleTextOneOfMany');
    const titleCounter = document.getElementById('floatingTitleCounterOneOfMany');
    if (titleText) titleText.textContent = 'Portfolio - one of many';
    if (titleCounter) titleCounter.textContent = `${index + 1}/${images.length}`;
    singleImageViewOneOfMany.style.display = 'block';
    thumbsViewOneOfMany.style.display = 'none';
    setupFloatingTitleOneOfMany();
}

function showThumbsViewOneOfMany() {
    const images = getOneOfManyImages();
    thumbsGridOneOfMany.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewOneOfMany(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridOneOfMany.appendChild(thumbWrapper);
    });
    singleImageViewOneOfMany.style.display = 'none';
    thumbsViewOneOfMany.style.display = 'block';
}
if (thumbsLinkOneOfMany && backToSingleViewOneOfMany && indexLinkOneOfMany) {
    thumbsLinkOneOfMany.onclick = (e) => { e.preventDefault(); showThumbsViewOneOfMany(); };
    backToSingleViewOneOfMany.onclick = (e) => { e.preventDefault(); showSingleImageViewOneOfMany(currentImageIndexOneOfMany); };
    indexLinkOneOfMany.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}
document.addEventListener('keydown', (e) => {
    if (singleImageViewOneOfMany && singleImageViewOneOfMany.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnOneOfMany.onclick();
        if (e.key === 'ArrowRight') nextImageBtnOneOfMany.onclick();
    }
});
function startOneOfManyGallery() {
    const images = getOneOfManyImages();
    if (images.length > 0) {
        showSingleImageViewOneOfMany(0);
    }
}
// Add JS for Portfolio - the best medicine
let currentImageIndexBestMedicine = 0;
const singleImageViewBestMedicine = document.getElementById('singleImageViewBestMedicine');
const mainGalleryImageBestMedicine = document.getElementById('mainGalleryImageBestMedicine');
const imageCounterBestMedicine = document.getElementById('imageCounterBestMedicine');
const thumbsViewBestMedicine = document.getElementById('thumbsViewBestMedicine');
const thumbsGridBestMedicine = document.getElementById('thumbsGridBestMedicine');
const thumbsLinkBestMedicine = document.getElementById('thumbsLinkBestMedicine');
const backToSingleViewBestMedicine = document.getElementById('backToSingleViewBestMedicine');
const indexLinkBestMedicine = document.getElementById('indexLinkBestMedicine');
const floatingTitleBestMedicine = document.getElementById('floatingTitleBestMedicine');

function getBestMedicineImages() {
    return window.galleryConfig && window.galleryConfig['portfolio-the-best-medicine'] ? window.galleryConfig['portfolio-the-best-medicine'] : [];
}

// Mouse tracking for floating title - Portfolio - the best medicine
function setupFloatingTitleBestMedicine() {
    const imageContainer = document.querySelector('#singleImageViewBestMedicine .image-container');
    const mainImage = document.getElementById('mainGalleryImageBestMedicine');
    const floatingTitleSep = document.getElementById('floatingTitleSepBestMedicine');
    if (imageContainer && floatingTitleBestMedicine && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            floatingTitleBestMedicine.style.left = (x - floatingTitleBestMedicine.offsetWidth / 2) + 'px';
            floatingTitleBestMedicine.style.top = (y - floatingTitleBestMedicine.offsetHeight - 2) + 'px';
            floatingTitleBestMedicine.style.opacity = '1';
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    if (brightness < 128) {
                        floatingTitleBestMedicine.style.color = '#ffffff';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                    } else {
                        floatingTitleBestMedicine.style.color = '#000000';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitleBestMedicine.style.color = '#ffffff';
                    if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                }
            }
        });
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitleBestMedicine.style.opacity = '0';
        });
    }
}

if (mainGalleryImageBestMedicine) {
    mainGalleryImageBestMedicine.style.cursor = "pointer";
    mainGalleryImageBestMedicine.onclick = function() {
        const images = getBestMedicineImages();
        if (currentImageIndexBestMedicine < images.length - 1) {
            showSingleImageViewBestMedicine(currentImageIndexBestMedicine + 1);
        } else {
            showSingleImageViewBestMedicine(0);
        }
    };
}

function showSingleImageViewBestMedicine(index) {
    const images = getBestMedicineImages();
    if (!images.length) return;
    currentImageIndexBestMedicine = index;
    mainGalleryImageBestMedicine.src = images[index];
    // Update floating title and counter
    const titleText = document.getElementById('floatingTitleTextBestMedicine');
    const titleCounter = document.getElementById('floatingTitleCounterBestMedicine');
    if (titleText) titleText.textContent = 'Portfolio - the best medicine';
    if (titleCounter) titleCounter.textContent = `${index + 1}/${images.length}`;
    singleImageViewBestMedicine.style.display = 'block';
    thumbsViewBestMedicine.style.display = 'none';
    setupFloatingTitleBestMedicine();
}
function showThumbsViewBestMedicine() {
    const images = getBestMedicineImages();
    thumbsGridBestMedicine.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewBestMedicine(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridBestMedicine.appendChild(thumbWrapper);
    });
    singleImageViewBestMedicine.style.display = 'none';
    thumbsViewBestMedicine.style.display = 'block';
}
if (thumbsLinkBestMedicine && backToSingleViewBestMedicine && indexLinkBestMedicine) {
    thumbsLinkBestMedicine.onclick = (e) => { e.preventDefault(); showThumbsViewBestMedicine(); };
    backToSingleViewBestMedicine.onclick = (e) => { e.preventDefault(); showSingleImageViewBestMedicine(currentImageIndexBestMedicine); };
    indexLinkBestMedicine.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}
document.addEventListener('keydown', (e) => {
    if (singleImageViewBestMedicine && singleImageViewBestMedicine.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnBestMedicine.onclick();
        if (e.key === 'ArrowRight') nextImageBtnBestMedicine.onclick();
    }
});
function startBestMedicineGallery() {
    const images = getBestMedicineImages();
    if (images.length > 0) {
        showSingleImageViewBestMedicine(0);
    }
}
// Add JS for Recent gallery (single-image and thumbs view, navigation, keyboard support)
let currentImageIndexRecent = 0;
const singleImageViewRecent = document.getElementById('singleImageViewRecent');
const mainGalleryImageRecent = document.getElementById('mainGalleryImageRecent');
const imageCounterRecent = document.getElementById('imageCounterRecent');
const thumbsViewRecent = document.getElementById('thumbsViewRecent');
const thumbsGridRecent = document.getElementById('thumbsGridRecent');
const thumbsLinkRecent = document.getElementById('thumbsLinkRecent');
const backToSingleViewRecent = document.getElementById('backToSingleViewRecent');
const indexLinkRecent = document.getElementById('indexLinkRecent');
const floatingTitleRecent = document.getElementById('floatingTitleRecent');

function getRecentImages() {
    return window.galleryConfig && window.galleryConfig['recent'] ? window.galleryConfig['recent'] : [];
}

// Mouse tracking for floating title
function setupFloatingTitleRecent() {
    const imageContainer = document.querySelector('#singleImageViewRecent .image-container');
    const mainImage = document.getElementById('mainGalleryImageRecent');
    const floatingTitle = document.getElementById('floatingTitleRecent');
    const floatingTitleSep = floatingTitle ? floatingTitle.querySelector('.floating-title-sep') : null;
    if (imageContainer && floatingTitle && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            floatingTitle.style.left = (x - floatingTitleRecent.offsetWidth / 2) + 'px';
            floatingTitle.style.top = (y - floatingTitleRecent.offsetHeight - 2) + 'px';
            floatingTitle.style.opacity = '1';
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    if (brightness < 128) {
                        floatingTitle.style.color = '#ffffff';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                    } else {
                        floatingTitle.style.color = '#000000';
                        if (floatingTitleSep) floatingTitleSep.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitle.style.color = '#ffffff';
                    if (floatingTitleSep) floatingTitleSep.style.color = '#ffffff';
                }
            }
        });
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitle.style.opacity = '0';
        });
    }
}

if (mainGalleryImageRecent) {
    mainGalleryImageRecent.style.cursor = "pointer";
    mainGalleryImageRecent.onclick = function() {
        const images = getRecentImages();
        if (currentImageIndexRecent < images.length - 1) {
            showSingleImageViewRecent(currentImageIndexRecent + 1);
        } else {
            showSingleImageViewRecent(0);
        }
    };
}

function showSingleImageViewRecent(index) {
    const images = getRecentImages();
    if (!images.length) return;
    currentImageIndexRecent = index;
    mainGalleryImageRecent.src = images[index];
    // Update the floating title counter
    const floatingTitleCounter = document.getElementById('floatingTitleCounterRecent');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewRecent.style.display = 'block';
    thumbsViewRecent.style.display = 'none';
    setupFloatingTitleRecent();
}

function showThumbsViewRecent() {
    const images = getRecentImages();
    thumbsGridRecent.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewRecent(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridRecent.appendChild(thumbWrapper);
    });
    singleImageViewRecent.style.display = 'none';
    thumbsViewRecent.style.display = 'block';
}

if (thumbsLinkRecent && backToSingleViewRecent && indexLinkRecent) {
    thumbsLinkRecent.onclick = (e) => { e.preventDefault(); showThumbsViewRecent(); };
    backToSingleViewRecent.onclick = (e) => { e.preventDefault(); showSingleImageViewRecent(currentImageIndexRecent); };
    indexLinkRecent.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}

document.addEventListener('keydown', (e) => {
    if (singleImageViewRecent && singleImageViewRecent.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnRecent.onclick();
        if (e.key === 'ArrowRight') nextImageBtnRecent.onclick();
    }
});

function startRecentGallery() {
    const images = getRecentImages();
    if (images.length > 0) {
        showSingleImageViewRecent(0);
    }
}
// Update showSection for all galleries
const originalShowSectionAll = showSection;
showSection = function(sectionName) {
    // Hide all sections
    const sections = document.querySelectorAll('section');
    sections.forEach(section => {
        section.classList.remove('active');
        section.style.display = 'none';
    });
    // Show selected section
    const targetSection = document.getElementById(sectionName);
    if (targetSection) {
        if (sectionName === 'landing') {
            targetSection.style.display = 'flex';
        } else {
            targetSection.style.display = 'block';
            targetSection.classList.add('active');
        }
    }
    if (sectionName === 'recent') {
        startRecentGallery();
    }
    if (sectionName === 'portraits-i') {
        startPortraitsIGallery();
    }
    if (sectionName === 'portraits-ii') {
        startPortraitsIIGallery();
    }
    if (sectionName === 'portraits-iii') {
        startPortraitsIIIGallery();
    }
    if (sectionName === 'travel') {
        startTravelGallery();
    }
    if (sectionName === 'portfolio-one-of-many') {
        startOneOfManyGallery();
    }
    if (sectionName === 'portfolio-the-best-medicine') {
        startBestMedicineGallery();
    }
    if (sectionName === 'portfolio-ams:centre') {
        startAmsCentreGallery();
    }
    if (sectionName === 'portfolio-notice') {
        startNoticeGallery();
    }
    if (sectionName === 'portfolio-notice-ii') {
        startNoticeIIGallery();
    }
    if (sectionName === 'portraits-iv') {
        startPortraitsIVGallery();
    }
    if (sectionName === 'portfolio-njv1') {
        startNjv1Gallery();
    }
    // ... (repeat for each new gallery)
    closeMenu();
};

// Add JS logic for each new gallery, matching the pattern of Portfolio I
// --- Portraits III Gallery Data ---
let currentImageIndexPortraitsIII = 0;
const singleImageViewPortraitsIII = document.getElementById('singleImageViewPortraitsIII');
const mainGalleryImagePortraitsIII = document.getElementById('mainGalleryImagePortraitsIII');
const imageCounterPortraitsIII = document.getElementById('imageCounterPortraitsIII');
const thumbsViewPortraitsIII = document.getElementById('thumbsViewPortraitsIII');
const thumbsGridPortraitsIII = document.getElementById('thumbsGridPortraitsIII');
const thumbsLinkPortraitsIII = document.getElementById('thumbsLinkPortraitsIII');
const backToSingleViewPortraitsIII = document.getElementById('backToSingleViewPortraitsIII');
const indexLinkPortraitsIII = document.getElementById('indexLinkPortraitsIII');
const floatingTitlePortraitsIII = document.getElementById('floatingTitlePortraitsIII');

function getPortraitsIIIImages() {
    return window.galleryConfig && window.galleryConfig['portraits-iii'] ? window.galleryConfig['portraits-iii'] : [];
}

// Mouse tracking for floating title - Portraits III
function setupFloatingTitlePortraitsIII() {
    const imageContainer = document.querySelector('#singleImageViewPortraitsIII .image-container');
    const mainImage = document.getElementById('mainGalleryImagePortraitsIII');
    
    if (imageContainer && floatingTitlePortraitsIII && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            floatingTitlePortraitsIII.style.left = (x - floatingTitlePortraitsIII.offsetWidth / 2) + 'px';
            floatingTitlePortraitsIII.style.top = (y - floatingTitlePortraitsIII.offsetHeight - 2) + 'px';
            floatingTitlePortraitsIII.style.opacity = '1';
            
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    
                    if (brightness < 128) {
                        floatingTitlePortraitsIII.style.color = '#ffffff';
                    } else {
                        floatingTitlePortraitsIII.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitlePortraitsIII.style.color = '#ffffff';
                }
            }
        });
        
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitlePortraitsIII.style.opacity = '0';
        });
    }
}

if (mainGalleryImagePortraitsIII) {
    mainGalleryImagePortraitsIII.style.cursor = "pointer";
    mainGalleryImagePortraitsIII.onclick = function() {
        const images = getPortraitsIIIImages();
        if (currentImageIndexPortraitsIII < images.length - 1) {
            showSingleImageViewPortraitsIII(currentImageIndexPortraitsIII + 1);
        } else {
            showSingleImageViewPortraitsIII(0);
        }
    };
}

function showSingleImageViewPortraitsIII(index) {
    const images = getPortraitsIIIImages();
    if (!images.length) return;
    currentImageIndexPortraitsIII = index;
    mainGalleryImagePortraitsIII.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterPortraitsIII');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewPortraitsIII.style.display = 'block';
    thumbsViewPortraitsIII.style.display = 'none';
    setupFloatingTitlePortraitsIII();
}

function showThumbsViewPortraitsIII() {
    const images = getPortraitsIIIImages();
    thumbsGridPortraitsIII.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewPortraitsIII(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridPortraitsIII.appendChild(thumbWrapper);
    });
    singleImageViewPortraitsIII.style.display = 'none';
    thumbsViewPortraitsIII.style.display = 'block';
}

if (thumbsLinkPortraitsIII && backToSingleViewPortraitsIII && indexLinkPortraitsIII) {
    thumbsLinkPortraitsIII.onclick = (e) => { e.preventDefault(); showThumbsViewPortraitsIII(); };
    backToSingleViewPortraitsIII.onclick = (e) => { e.preventDefault(); showSingleImageViewPortraitsIII(currentImageIndexPortraitsIII); };
    indexLinkPortraitsIII.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}

document.addEventListener('keydown', (e) => {
    if (singleImageViewPortraitsIII && singleImageViewPortraitsIII.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnPortraitsIII.onclick();
        if (e.key === 'ArrowRight') nextImageBtnPortraitsIII.onclick();
    }
});

function startPortraitsIIIGallery() {
    const images = getPortraitsIIIImages();
    if (images.length > 0) {
        showSingleImageViewPortraitsIII(0);
    }
}
// ... existing code ...

// Sidebar menu toggle logic for Work/Info/Process
(function() {
    const menuWork = document.getElementById('menuWork');
    const menuInfo = document.getElementById('menuInfo');
    const menuProcess = document.getElementById('menuProcess');
    const menuMainLinks = document.getElementById('menuMainLinks');
    const menuInfoContent = document.getElementById('menuInfoContent');
    // Only Work and Info are functional for now
    function setActiveMenu(tab) {
        menuWork.classList.remove('active');
        menuInfo.classList.remove('active');
        menuProcess.classList.remove('active');
        if (tab === 'work') menuWork.classList.add('active');
        if (tab === 'info') menuInfo.classList.add('active');
        if (tab === 'process') menuProcess.classList.add('active');
    }
    menuWork.onclick = function(e) {
        e.preventDefault();
        setActiveMenu('work');
        menuMainLinks.style.display = '';
        menuInfoContent.style.display = 'none';
    };
    menuInfo.onclick = function(e) {
        e.preventDefault();
        setActiveMenu('info');
        menuMainLinks.style.display = 'none';
        menuInfoContent.style.display = '';
    };
    // menuProcess now links out, so no JS handler needed
})();

// --- Portfolio - AMS/Centre Gallery Data ---
let currentImageIndexAmsCentre = 0;
const singleImageViewAmsCentre = document.getElementById('singleImageViewAmsCentre');
const mainGalleryImageAmsCentre = document.getElementById('mainGalleryImageAmsCentre');
const imageCounterAmsCentre = document.getElementById('imageCounterAmsCentre');
const thumbsViewAmsCentre = document.getElementById('thumbsViewAmsCentre');
const thumbsGridAmsCentre = document.getElementById('thumbsGridAmsCentre');
const thumbsLinkAmsCentre = document.getElementById('thumbsLinkAmsCentre');
const backToSingleViewAmsCentre = document.getElementById('backToSingleViewAmsCentre');
const indexLinkAmsCentre = document.getElementById('indexLinkAmsCentre');
const floatingTitleAmsCentre = document.getElementById('floatingTitleAmsCentre');

function getAmsCentreImages() {
    return window.galleryConfig && window.galleryConfig['portfolio-ams:centre'] ? window.galleryConfig['portfolio-ams:centre'] : [];
}

// Mouse tracking for floating title - Portfolio - AMS/Centre
function setupFloatingTitleAmsCentre() {
    const imageContainer = document.querySelector('#singleImageViewAmsCentre .image-container');
    const mainImage = document.getElementById('mainGalleryImageAmsCentre');
    
    if (imageContainer && floatingTitleAmsCentre && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            floatingTitleAmsCentre.style.left = (x - floatingTitleAmsCentre.offsetWidth / 2) + 'px';
            floatingTitleAmsCentre.style.top = (y - floatingTitleAmsCentre.offsetHeight - 2) + 'px';
            floatingTitleAmsCentre.style.opacity = '1';
            
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    
                    if (brightness < 128) {
                        floatingTitleAmsCentre.style.color = '#ffffff';
                    } else {
                        floatingTitleAmsCentre.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitleAmsCentre.style.color = '#ffffff';
                }
            }
        });
        
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitleAmsCentre.style.opacity = '0';
        });
    }
}

if (mainGalleryImageAmsCentre) {
    mainGalleryImageAmsCentre.style.cursor = "pointer";
    mainGalleryImageAmsCentre.onclick = function() {
        const images = getAmsCentreImages();
        if (currentImageIndexAmsCentre < images.length - 1) {
            showSingleImageViewAmsCentre(currentImageIndexAmsCentre + 1);
        } else {
            showSingleImageViewAmsCentre(0);
        }
    };
}

function showSingleImageViewAmsCentre(index) {
    const images = getAmsCentreImages();
    if (!images.length) return;
    currentImageIndexAmsCentre = index;
    mainGalleryImageAmsCentre.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterAmsCentre');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewAmsCentre.style.display = 'block';
    thumbsViewAmsCentre.style.display = 'none';
    setupFloatingTitleAmsCentre();
}

function showThumbsViewAmsCentre() {
    const images = getAmsCentreImages();
    thumbsGridAmsCentre.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewAmsCentre(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridAmsCentre.appendChild(thumbWrapper);
    });
    singleImageViewAmsCentre.style.display = 'none';
    thumbsViewAmsCentre.style.display = 'block';
}

if (thumbsLinkAmsCentre && backToSingleViewAmsCentre && indexLinkAmsCentre) {
    thumbsLinkAmsCentre.onclick = (e) => { e.preventDefault(); showThumbsViewAmsCentre(); };
    backToSingleViewAmsCentre.onclick = (e) => { e.preventDefault(); showSingleImageViewAmsCentre(currentImageIndexAmsCentre); };
    indexLinkAmsCentre.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}

document.addEventListener('keydown', (e) => {
    if (singleImageViewAmsCentre && singleImageViewAmsCentre.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnAmsCentre.onclick();
        if (e.key === 'ArrowRight') nextImageBtnAmsCentre.onclick();
    }
});

function startAmsCentreGallery() {
    const images = getAmsCentreImages();
    if (images.length > 0) {
        showSingleImageViewAmsCentre(0);
    }
}

// --- Portfolio - NOTICE Gallery Data ---
let currentImageIndexNotice = 0;
const singleImageViewNotice = document.getElementById('singleImageViewNotice');
const mainGalleryImageNotice = document.getElementById('mainGalleryImageNotice');
const imageCounterNotice = document.getElementById('imageCounterNotice');
const thumbsViewNotice = document.getElementById('thumbsViewNotice');
const thumbsGridNotice = document.getElementById('thumbsGridNotice');
const thumbsLinkNotice = document.getElementById('thumbsLinkNotice');
const backToSingleViewNotice = document.getElementById('backToSingleViewNotice');
const indexLinkNotice = document.getElementById('indexLinkNotice');
const floatingTitleNotice = document.getElementById('floatingTitleNotice');

function getNoticeImages() {
    return window.galleryConfig && window.galleryConfig['portfolio-notice'] ? window.galleryConfig['portfolio-notice'] : [];
}

// Mouse tracking for floating title - Portfolio - NOTICE
function setupFloatingTitleNotice() {
    const imageContainer = document.querySelector('#singleImageViewNotice .image-container');
    const mainImage = document.getElementById('mainGalleryImageNotice');
    
    if (imageContainer && floatingTitleNotice && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            floatingTitleNotice.style.left = (x - floatingTitleNotice.offsetWidth / 2) + 'px';
            floatingTitleNotice.style.top = (y - floatingTitleNotice.offsetHeight - 2) + 'px';
            floatingTitleNotice.style.opacity = '1';
            
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    
                    if (brightness < 128) {
                        floatingTitleNotice.style.color = '#ffffff';
                    } else {
                        floatingTitleNotice.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitleNotice.style.color = '#ffffff';
                }
            }
        });
        
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitleNotice.style.opacity = '0';
        });
    }
}

if (mainGalleryImageNotice) {
    mainGalleryImageNotice.style.cursor = "pointer";
    mainGalleryImageNotice.onclick = function() {
        const images = getNoticeImages();
        if (currentImageIndexNotice < images.length - 1) {
            showSingleImageViewNotice(currentImageIndexNotice + 1);
        } else {
            showSingleImageViewNotice(0);
        }
    };
}

function showSingleImageViewNotice(index) {
    const images = getNoticeImages();
    if (!images.length) return;
    currentImageIndexNotice = index;
    mainGalleryImageNotice.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterNotice');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewNotice.style.display = 'block';
    thumbsViewNotice.style.display = 'none';
    setupFloatingTitleNotice();
}

function showThumbsViewNotice() {
    const images = getNoticeImages();
    thumbsGridNotice.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewNotice(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridNotice.appendChild(thumbWrapper);
    });
    singleImageViewNotice.style.display = 'none';
    thumbsViewNotice.style.display = 'block';
}

if (thumbsLinkNotice && backToSingleViewNotice && indexLinkNotice) {
    thumbsLinkNotice.onclick = (e) => { e.preventDefault(); showThumbsViewNotice(); };
    backToSingleViewNotice.onclick = (e) => { e.preventDefault(); showSingleImageViewNotice(currentImageIndexNotice); };
    indexLinkNotice.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}

document.addEventListener('keydown', (e) => {
    if (singleImageViewNotice && singleImageViewNotice.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnNotice.onclick();
        if (e.key === 'ArrowRight') nextImageBtnNotice.onclick();
    }
});

function startNoticeGallery() {
    const images = getNoticeImages();
    if (images.length > 0) {
        showSingleImageViewNotice(0);
    }
}

// --- Portfolio - NOTICE II Gallery Data ---
let currentImageIndexNoticeII = 0;
const singleImageViewNoticeII = document.getElementById('singleImageViewNoticeII');
const mainGalleryImageNoticeII = document.getElementById('mainGalleryImageNoticeII');
const imageCounterNoticeII = document.getElementById('imageCounterNoticeII');
const thumbsViewNoticeII = document.getElementById('thumbsViewNoticeII');
const thumbsGridNoticeII = document.getElementById('thumbsGridNoticeII');
const thumbsLinkNoticeII = document.getElementById('thumbsLinkNoticeII');
const backToSingleViewNoticeII = document.getElementById('backToSingleViewNoticeII');
const indexLinkNoticeII = document.getElementById('indexLinkNoticeII');
const floatingTitleNoticeII = document.getElementById('floatingTitleNoticeII');

function getNoticeIIImages() {
    return window.galleryConfig && window.galleryConfig['portfolio-notice-ii'] ? window.galleryConfig['portfolio-notice-ii'] : [];
}

// Mouse tracking for floating title - Portfolio - NOTICE II
function setupFloatingTitleNoticeII() {
    const imageContainer = document.querySelector('#singleImageViewNoticeII .image-container');
    const mainImage = document.getElementById('mainGalleryImageNoticeII');
    
    if (imageContainer && floatingTitleNoticeII && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            floatingTitleNoticeII.style.left = (x - floatingTitleNoticeII.offsetWidth / 2) + 'px';
            floatingTitleNoticeII.style.top = (y - floatingTitleNoticeII.offsetHeight - 2) + 'px';
            floatingTitleNoticeII.style.opacity = '1';
            
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    
                    if (brightness < 128) {
                        floatingTitleNoticeII.style.color = '#ffffff';
                    } else {
                        floatingTitleNoticeII.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitleNoticeII.style.color = '#ffffff';
                }
            }
        });
        
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitleNoticeII.style.opacity = '0';
        });
    }
}

if (mainGalleryImageNoticeII) {
    mainGalleryImageNoticeII.style.cursor = "pointer";
    mainGalleryImageNoticeII.onclick = function() {
        const images = getNoticeIIImages();
        if (currentImageIndexNoticeII < images.length - 1) {
            showSingleImageViewNoticeII(currentImageIndexNoticeII + 1);
        } else {
            showSingleImageViewNoticeII(0);
        }
    };
}

function showSingleImageViewNoticeII(index) {
    const images = getNoticeIIImages();
    if (!images.length) return;
    currentImageIndexNoticeII = index;
    mainGalleryImageNoticeII.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterNoticeII');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewNoticeII.style.display = 'block';
    thumbsViewNoticeII.style.display = 'none';
    setupFloatingTitleNoticeII();
}

function showThumbsViewNoticeII() {
    const images = getNoticeIIImages();
    thumbsGridNoticeII.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewNoticeII(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridNoticeII.appendChild(thumbWrapper);
    });
    singleImageViewNoticeII.style.display = 'none';
    thumbsViewNoticeII.style.display = 'block';
}

if (thumbsLinkNoticeII && backToSingleViewNoticeII && indexLinkNoticeII) {
    thumbsLinkNoticeII.onclick = (e) => { e.preventDefault(); showThumbsViewNoticeII(); };
    backToSingleViewNoticeII.onclick = (e) => { e.preventDefault(); showSingleImageViewNoticeII(currentImageIndexNoticeII); };
    indexLinkNoticeII.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}

document.addEventListener('keydown', (e) => {
    if (singleImageViewNoticeII && singleImageViewNoticeII.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnNoticeII.onclick();
        if (e.key === 'ArrowRight') nextImageBtnNoticeII.onclick();
    }
});

function startNoticeIIGallery() {
    const images = getNoticeIIImages();
    if (images.length > 0) {
        showSingleImageViewNoticeII(0);
    }
}

// --- Portraits IV Gallery Data ---
let currentImageIndexPortraitsIV = 0;
const singleImageViewPortraitsIV = document.getElementById('singleImageViewPortraitsIV');
const mainGalleryImagePortraitsIV = document.getElementById('mainGalleryImagePortraitsIV');
const imageCounterPortraitsIV = document.getElementById('imageCounterPortraitsIV');
const thumbsViewPortraitsIV = document.getElementById('thumbsViewPortraitsIV');
const thumbsGridPortraitsIV = document.getElementById('thumbsGridPortraitsIV');
const thumbsLinkPortraitsIV = document.getElementById('thumbsLinkPortraitsIV');
const backToSingleViewPortraitsIV = document.getElementById('backToSingleViewPortraitsIV');
const indexLinkPortraitsIV = document.getElementById('indexLinkPortraitsIV');
const floatingTitlePortraitsIV = document.getElementById('floatingTitlePortraitsIV');

function getPortraitsIVImages() {
    return window.galleryConfig && window.galleryConfig['portraits-iv'] ? window.galleryConfig['portraits-iv'] : [];
}

// Mouse tracking for floating title - Portraits IV
function setupFloatingTitlePortraitsIV() {
    const imageContainer = document.querySelector('#singleImageViewPortraitsIV .image-container');
    const mainImage = document.getElementById('mainGalleryImagePortraitsIV');
    
    if (imageContainer && floatingTitlePortraitsIV && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            floatingTitlePortraitsIV.style.left = (x - floatingTitlePortraitsIV.offsetWidth / 2) + 'px';
            floatingTitlePortraitsIV.style.top = (y - floatingTitlePortraitsIV.offsetHeight - 2) + 'px';
            floatingTitlePortraitsIV.style.opacity = '1';
            
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    
                    if (brightness < 128) {
                        floatingTitlePortraitsIV.style.color = '#ffffff';
                    } else {
                        floatingTitlePortraitsIV.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitlePortraitsIV.style.color = '#ffffff';
                }
            }
        });
        
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitlePortraitsIV.style.opacity = '0';
        });
    }
}

if (mainGalleryImagePortraitsIV) {
    mainGalleryImagePortraitsIV.style.cursor = "pointer";
    mainGalleryImagePortraitsIV.onclick = function() {
        const images = getPortraitsIVImages();
        if (currentImageIndexPortraitsIV < images.length - 1) {
            showSingleImageViewPortraitsIV(currentImageIndexPortraitsIV + 1);
        } else {
            showSingleImageViewPortraitsIV(0);
        }
    };
}

function showSingleImageViewPortraitsIV(index) {
    const images = getPortraitsIVImages();
    if (!images.length) return;
    currentImageIndexPortraitsIV = index;
    mainGalleryImagePortraitsIV.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterPortraitsIV');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewPortraitsIV.style.display = 'block';
    thumbsViewPortraitsIV.style.display = 'none';
    setupFloatingTitlePortraitsIV();
}

function showThumbsViewPortraitsIV() {
    const images = getPortraitsIVImages();
    thumbsGridPortraitsIV.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewPortraitsIV(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridPortraitsIV.appendChild(thumbWrapper);
    });
    singleImageViewPortraitsIV.style.display = 'none';
    thumbsViewPortraitsIV.style.display = 'block';
}

if (thumbsLinkPortraitsIV && backToSingleViewPortraitsIV && indexLinkPortraitsIV) {
    thumbsLinkPortraitsIV.onclick = (e) => { e.preventDefault(); showThumbsViewPortraitsIV(); };
    backToSingleViewPortraitsIV.onclick = (e) => { e.preventDefault(); showSingleImageViewPortraitsIV(currentImageIndexPortraitsIV); };
    indexLinkPortraitsIV.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}

document.addEventListener('keydown', (e) => {
    if (singleImageViewPortraitsIV && singleImageViewPortraitsIV.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnPortraitsIV.onclick();
        if (e.key === 'ArrowRight') nextImageBtnPortraitsIV.onclick();
    }
});

function startPortraitsIVGallery() {
    const images = getPortraitsIVImages();
    if (images.length > 0) {
        showSingleImageViewPortraitsIV(0);
    }
}

// --- Portfolio - NJV1 Gallery Data ---
let currentImageIndexNjv1 = 0;
const singleImageViewNjv1 = document.getElementById('singleImageViewNjv1');
const mainGalleryImageNjv1 = document.getElementById('mainGalleryImageNjv1');
const imageCounterNjv1 = document.getElementById('imageCounterNjv1');
const thumbsViewNjv1 = document.getElementById('thumbsViewNjv1');
const thumbsGridNjv1 = document.getElementById('thumbsGridNjv1');
const thumbsLinkNjv1 = document.getElementById('thumbsLinkNjv1');
const backToSingleViewNjv1 = document.getElementById('backToSingleViewNjv1');
const indexLinkNjv1 = document.getElementById('indexLinkNjv1');
const floatingTitleNjv1 = document.getElementById('floatingTitleNjv1');

function getNjv1Images() {
    return window.galleryConfig && window.galleryConfig['portfolio-njv1'] ? window.galleryConfig['portfolio-njv1'] : [];
}

// Mouse tracking for floating title - Portfolio - NJV1
function setupFloatingTitleNjv1() {
    const imageContainer = document.querySelector('#singleImageViewNjv1 .image-container');
    const mainImage = document.getElementById('mainGalleryImageNjv1');
    
    if (imageContainer && floatingTitleNjv1 && mainImage) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        imageContainer.addEventListener('mousemove', (e) => {
            const rect = imageContainer.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            floatingTitleNjv1.style.left = (x - floatingTitleNjv1.offsetWidth / 2) + 'px';
            floatingTitleNjv1.style.top = (y - floatingTitleNjv1.offsetHeight - 2) + 'px';
            floatingTitleNjv1.style.opacity = '1';
            
            const imgRect = mainImage.getBoundingClientRect();
            const imgX = e.clientX - imgRect.left;
            const imgY = e.clientY - imgRect.top;
            
            if (imgX >= 0 && imgX < mainImage.width && imgY >= 0 && imgY < mainImage.height) {
                canvas.width = mainImage.width;
                canvas.height = mainImage.height;
                ctx.drawImage(mainImage, 0, 0);
                
                try {
                    const pixel = ctx.getImageData(imgX, imgY, 1, 1).data;
                    const brightness = (pixel[0] * 0.299 + pixel[1] * 0.587 + pixel[2] * 0.114);
                    
                    if (brightness < 128) {
                        floatingTitleNjv1.style.color = '#ffffff';
                    } else {
                        floatingTitleNjv1.style.color = '#000000';
                    }
                } catch (error) {
                    floatingTitleNjv1.style.color = '#ffffff';
                }
            }
        });
        
        imageContainer.addEventListener('mouseleave', () => {
            floatingTitleNjv1.style.opacity = '0';
        });
    }
}

if (mainGalleryImageNjv1) {
    mainGalleryImageNjv1.style.cursor = "pointer";
    mainGalleryImageNjv1.onclick = function() {
        const images = getNjv1Images();
        if (currentImageIndexNjv1 < images.length - 1) {
            showSingleImageViewNjv1(currentImageIndexNjv1 + 1);
        } else {
            showSingleImageViewNjv1(0);
        }
    };
}

function showSingleImageViewNjv1(index) {
    const images = getNjv1Images();
    if (!images.length) return;
    currentImageIndexNjv1 = index;
    mainGalleryImageNjv1.src = images[index];
    const floatingTitleCounter = document.getElementById('floatingTitleCounterNjv1');
    if (floatingTitleCounter) {
        floatingTitleCounter.textContent = `${index + 1}/${images.length}`;
    }
    singleImageViewNjv1.style.display = 'block';
    thumbsViewNjv1.style.display = 'none';
    setupFloatingTitleNjv1();
}

function showThumbsViewNjv1() {
    const images = getNjv1Images();
    thumbsGridNjv1.innerHTML = '';
    images.forEach((src, idx) => {
        const thumbWrapper = document.createElement('div');
        thumbWrapper.style.width = '120px';
        thumbWrapper.style.height = '120px';
        thumbWrapper.style.display = 'flex';
        thumbWrapper.style.alignItems = 'center';
        thumbWrapper.style.justifyContent = 'center';
        const thumb = document.createElement('img');
        thumb.src = src;
        thumb.style.maxWidth = '100%';
        thumb.style.maxHeight = '100%';
        thumb.style.width = 'auto';
        thumb.style.height = 'auto';
        thumb.style.cursor = 'pointer';
        thumb.onclick = () => showSingleImageViewNjv1(idx);
        thumbWrapper.appendChild(thumb);
        thumbsGridNjv1.appendChild(thumbWrapper);
    });
    singleImageViewNjv1.style.display = 'none';
    thumbsViewNjv1.style.display = 'block';
}

if (thumbsLinkNjv1 && backToSingleViewNjv1 && indexLinkNjv1) {
    thumbsLinkNjv1.onclick = (e) => { e.preventDefault(); showThumbsViewNjv1(); };
    backToSingleViewNjv1.onclick = (e) => { e.preventDefault(); showSingleImageViewNjv1(currentImageIndexNjv1); };
    indexLinkNjv1.onclick = (e) => { e.preventDefault(); toggleMenu(); };
}

document.addEventListener('keydown', (e) => {
    if (singleImageViewNjv1 && singleImageViewNjv1.style.display === 'block') {
        if (e.key === 'ArrowLeft') prevImageBtnNjv1.onclick();
        if (e.key === 'ArrowRight') nextImageBtnNjv1.onclick();
    }
});

function startNjv1Gallery() {
    const images = getNjv1Images();
    if (images.length > 0) {
        showSingleImageViewNjv1(0);
    }
}

    </script>
</body>
</html>